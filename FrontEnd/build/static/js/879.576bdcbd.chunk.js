"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[879],{87930:function(e,t,a){a.d(t,{Z:function(){return i}});var r=a(17592),n=a(17551);const o={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"};var l={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:o[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:o[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:o,divider:(0,n.Fq)(o[500],.24),text:{primary:o[800],secondary:o[600],disabled:o[500]},background:{paper:"#fff",default:o[100],neutral:o[200]},action:{active:o[600],hover:(0,n.Fq)(o[500],.08),selected:(0,n.Fq)(o[500],.16),disabled:(0,n.Fq)(o[500],.8),disabledBackground:(0,n.Fq)(o[500],.24),focus:(0,n.Fq)(o[500],.24),hoverOpacity:.08,disabledOpacity:.48}};var i=(0,r.ZP)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:l.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:l.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}})},51879:function(e,t,a){a.r(t);var r=a(47313),n=a(47825),o=a(41806),l=a(47131),i=a(61113),s=a(6740),d=a(65280),c=a(73428),h=a(9019),m=a(16957),u=a(51629),x=a(66835),g=a(23477),p=a(24076),j=a(67478),Z=a(57861),y=a(42832),b=a(23546),f=a(29466),F=a(92507),v=a(97890),D=a(38475),P=a(70816),A=a.n(P),M=a(87930),k=a(46417);t.default=()=>{const e="http://146.190.107.141:4000",[t,a]=(0,r.useState)(null),[P,T]=(0,r.useState)([]),[C,w]=(0,r.useState)(0),[B,S]=(0,r.useState)([]),[Y,$]=(0,r.useState)(0),[E,N]=(0,r.useState)(0),[R,_]=(0,r.useState)(0),[G,H]=(0,r.useState)(5),[I,q]=(0,r.useState)(""),L=(0,v.TH)();console.log("location=>",L);const z=L.pathname.split("/"),O=z[z.length-1];console.log("id in profile componenet  ==>",O);(0,r.useEffect)((()=>{U(),V(),W()}),[O]);const U=async()=>{try{console.log("Making API With This URL==>",`${e}/sudent_reservation/view/${O}`);const t=await D.Z.get(`${e}/sudent_reservation/view/${O}`);console.log("API fetch StudentDetails response=>",t),a(t.data.result),q(t.data.result.studentName)}catch(t){console.error("Error fetching reserved student details:",t)}};console.log("profileData===>",t);const V=async()=>{try{console.log("Making API With This URL==>",`${e}/student_payment/paymenthistory/${O}`);const t=await D.Z.get(`${e}/student_payment/paymenthistory/${O}`);console.log("API Payment Data response=>",t),T(t.data.result),w(t.data.totalRecodes)}catch(t){console.error("Error fetching student payment details:",t)}},W=async()=>{try{console.log("URL =>",`${e}/visitor/list/${O}`);const t=await D.Z.get(`${e}/visitor/list/${O}`);console.log(" fetchVisitorData response===>",t),S(t.data.result),$(t.data.totalRecodes)}catch(t){console.error("Error fetching visitors data:",t)}};console.log("visitorData===>",B),console.log("paymentData===>",P),console.log("studentName===>",I);return(0,k.jsxs)(n.Z,{children:[(0,k.jsxs)(o.Z,{mb:1,display:"flex",alignItems:"center",children:[(0,k.jsx)(f.rU,{to:"/dashboard/student_reservation",style:{textDecoration:"none",color:"inherit"},children:(0,k.jsx)(l.Z,{edge:"start",color:"inherit",children:(0,k.jsx)(F.Z,{})})}),(0,k.jsxs)(i.Z,{variant:"h4",children:["View all Details of ",I]})]}),(0,k.jsx)(o.Z,{sx:{width:"100%"},children:(0,k.jsx)(o.Z,{sx:{borderBottom:1,borderColor:"divider",marginBottom:"0px"},children:(0,k.jsxs)(s.Z,{value:E,onChange:(e,t)=>{N(t)},"aria-label":"basic tabs example",children:[(0,k.jsx)(d.Z,{label:"Profile Details"}),(0,k.jsx)(d.Z,{label:"Payment History"}),(0,k.jsx)(d.Z,{label:"Visitor History"})]})})}),0===E&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(c.Z,{style:{borderTopLeftRadius:"0px",borderTopRightRadius:"0px",marginTop:"10px"},children:(0,k.jsxs)(o.Z,{p:3,children:[(0,k.jsx)(i.Z,{variant:"h4",children:"Profile Details"}),t&&(0,k.jsxs)(h.ZP,{container:!0,spacing:4,style:{marginTop:"1vh"},children:[(0,k.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:[{label:"Student Name",value:t.studentName},{label:"Student PhoneNo",value:t.studentPhoneNo},{label:"Email Id",value:t.email},{label:"Date Of Birth",value:A()(t.dateOfBirth).format("DD-MM-YYYY")},{label:"Gender",value:t.gender},{label:"Fathers Name",value:t.fathersName},{label:"Fathers PhoneNo",value:t.fathersPhoneNo},{label:"Address",value:t.address+"   "+t.city+" "+t.state},{label:"Start Date",value:A()(t.startDate).format("DD-MM-YYYY")},{label:"End Date",value:A()(t.endDate).format("DD-MM-YYYY")}].map(((e,t)=>(0,k.jsxs)(o.Z,{mb:2,children:[(0,k.jsxs)(i.Z,{variant:"body1",children:[e.label,":"]}),(0,k.jsx)(i.Z,{variant:"body2",color:"textSecondary",children:e.value||"--"})]},t)))}),(0,k.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:[{label:"Room Number",value:t.roomNumber},{label:"Library Facility",value:t.isLibrary},{label:"Food Facility",value:t.isFood},{label:"Library Amount",value:t.libraryAmount},{label:"Food Amount",value:t.foodAmount},{label:"Hostel Monthly Rent:",value:t.hostelRent},{label:"Advance Payment",value:t.advancePayment},{label:"Monthly Total Rent ",value:t.MonthlyTotalAmmount},{label:"Total Rent till EndMonth",value:t.totalAmount}].map(((e,t)=>(0,k.jsxs)(o.Z,{mb:2,children:[(0,k.jsxs)(i.Z,{variant:"body1",children:[e.label,":"]}),(0,k.jsx)(i.Z,{variant:"body2",color:"textSecondary",children:e.value||"--"})]},t)))}),(0,k.jsxs)(h.ZP,{item:!0,xs:12,sm:4,children:[(0,k.jsx)(i.Z,{variant:"h6",children:"Studnet Photo"}),t.studentphoto&&(0,k.jsx)(m.Z,{component:"img",height:"200",image:`${e}/uploads/students/${t.studentphoto}`||"path/to/placeholder.jpg",alt:"studentphoto",style:{width:150,height:150,marginTop:20,marginBottom:20},onError:e=>{console.error("Image failed to load:",e.target.src),e.target.src="path/to/placeholder.jpg"}}),(0,k.jsx)(i.Z,{variant:"h6",children:"Studnet AadharCard Photo"}),t.aadharcardphoto&&(0,k.jsx)("a",{href:`${e}/uploads/students/${t.aadharcardphoto}`,target:"_blank",rel:"noopener noreferrer",children:(0,k.jsx)(m.Z,{component:"img",height:"200",image:`${e}/uploads/students/${t.aadharcardphoto}`,alt:"aadharcardphoto",style:{width:150,height:150,marginTop:20,marginBottom:20},onError:e=>{console.error("Image failed to load:",e.target.src),e.target.src="path/to/placeholder.jpg"}})})]})]})]})})}),1===E&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(M.Z,{children:(0,k.jsx)(o.Z,{width:"100%",sx:{mt:"10px"},children:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(u.Z,{children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(g.Z,{children:(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(j.Z,{children:"Month"}),(0,k.jsx)(j.Z,{children:"Date"}),(0,k.jsx)(j.Z,{children:"Monthly Paid Amount"}),(0,k.jsx)(j.Z,{children:"Monthly Pending Amount"}),(0,k.jsx)(j.Z,{children:"Total Amount"}),(0,k.jsx)(j.Z,{children:"Total Pending Amount"}),(0,k.jsx)(j.Z,{children:"Payment Method"}),(0,k.jsx)(j.Z,{children:"Attachment"}),(0,k.jsx)(j.Z,{children:"Status"})]})}),(0,k.jsx)(Z.Z,{children:P.slice(R*G,R*G+G).map((t=>(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(j.Z,{children:t.month}),(0,k.jsx)(j.Z,{children:A()(t.paymentDate).format("DD-MM-YYYY")}),(0,k.jsx)(j.Z,{children:t.paidAmount}),t.monthlyPending>0?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(j.Z,{sx:{color:"red"},children:t.monthlyPending})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(j.Z,{children:t.monthlyPending})}),(0,k.jsx)(j.Z,{children:t.totalAmmount}),(0,k.jsx)(j.Z,{children:t.totalPending}),(0,k.jsx)(j.Z,{children:t.paymentType}),(0,k.jsx)(j.Z,{children:t.paymentAttachment&&(0,k.jsx)("a",{href:`${e}/uploads/payment/${t.paymentAttachment}`,target:"_blank",rel:"noopener noreferrer",children:t.paymentAttachment})}),(0,k.jsx)(j.Z,{children:(0,k.jsx)(y.Z,{direction:"row",alignItems:"center",children:t.monthlyPending>0?(0,k.jsx)(i.Z,{variant:"body2",color:"red",children:"Pending"}):(0,k.jsx)(i.Z,{variant:"body2",color:"green",children:"Complete"})})})]},t.id)))})]})}),(0,k.jsx)(b.Z,{component:"div",count:C,page:R,onPageChange:(e,t)=>{console.log("New Page:",t),_(t)},rowsPerPage:G,onRowsPerPageChange:e=>{H(parseInt(e.target.value,10)),_(0)}})]})})})}),2===E&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(M.Z,{children:(0,k.jsx)(o.Z,{width:"100%",sx:{mt:"10px"},children:(0,k.jsx)(c.Z,{children:(0,k.jsx)(u.Z,{children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(g.Z,{children:(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(j.Z,{children:"Name"}),(0,k.jsx)(j.Z,{children:"Phone No."}),(0,k.jsx)(j.Z,{children:"Date & Time"})]})}),(0,k.jsx)(Z.Z,{children:B.map((e=>(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(j.Z,{children:e.visitorName}),(0,k.jsx)(j.Z,{children:e.phoneNumber}),(0,k.jsx)(j.Z,{children:A()(e.dateTime).format("DD-MM-YYYY HH:mm")})]},e.id)))})]})})})})})})]})}}}]);